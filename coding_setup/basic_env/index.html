
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Celeste Code Mod Tutorial">
      
      
        <meta name="author" content="Saplonily">
      
      
        <link rel="canonical" href="https://saplonily.top/celeste_mod_tutorial/coding_setup/basic_env/">
      
      
        <link rel="prev" href="../../coding_challenges/simple_texturing/">
      
      
        <link rel="next" href="../preference/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.13">
    
    
      
        <title>基础环境配置 - Celeste Code Mod 教程</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
    
    
      <link rel="stylesheet" href="../../css/content.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="Celeste Code Mod 教程" class="md-header__button md-logo" aria-label="Celeste Code Mod 教程" data-md-component="logo">
      
  <img src="../../assets/images/favicon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Celeste Code Mod 教程
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              基础环境配置
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Celeste Code Mod 教程" class="md-nav__button md-logo" aria-label="Celeste Code Mod 教程" data-md-component="logo">
      
  <img src="../../assets/images/favicon.png" alt="logo">

    </a>
    Celeste Code Mod 教程
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    首页
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    推荐入门顺序
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            推荐入门顺序
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../basics/celeste_everest_monomod/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Celeste, Everest, MonoMod
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    基础环境配置
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    基础环境配置
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#celeste" class="md-nav__link">
    <span class="md-ellipsis">
      Celeste
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#c" class="md-nav__link">
    <span class="md-ellipsis">
      C# 编程能力 与 开发环境
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      通过模板创建项目
    </span>
  </a>
  
    <nav class="md-nav" aria-label="通过模板创建项目">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      外部模板
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      就地模板
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#module" class="md-nav__link">
    <span class="md-ellipsis">
      Module 类
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#everestyaml" class="md-nav__link">
    <span class="md-ellipsis">
      everest.yaml
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      最后一步
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../preference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    偏好
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../hooks/hook/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    钩子
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../code_reading/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    阅读代码
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../coding_challenges/simple_entity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    简单自定义实体
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../coding_challenges/simple_trigger/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    简单自定义Trigger
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../coding_challenges/simple_texturing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    简单贴图
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    一些准备
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            一些准备
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    基础环境配置
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    基础环境配置
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#celeste" class="md-nav__link">
    <span class="md-ellipsis">
      Celeste
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#c" class="md-nav__link">
    <span class="md-ellipsis">
      C# 编程能力 与 开发环境
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      通过模板创建项目
    </span>
  </a>
  
    <nav class="md-nav" aria-label="通过模板创建项目">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      外部模板
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      就地模板
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#module" class="md-nav__link">
    <span class="md-ellipsis">
      Module 类
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#everestyaml" class="md-nav__link">
    <span class="md-ellipsis">
      everest.yaml
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      最后一步
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../preference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    偏好
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../debug/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    调试
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../code_reading/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    阅读代码
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    基础
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            基础
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../basics/celeste_everest_monomod/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Celeste, Everest, MonoMod
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../basics/ec_common/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    更多EC
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../basics/flag_tag_tracker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Flag, Tag, Tracker
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../basics/session_settings_savedata/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Settings, Session, SaveData
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    进阶
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            进阶
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/cross_mod_interactions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    跨 Mod 交互
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Loenn
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Loenn
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../loenn/folder_structure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Loenn 目录结构
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../loenn/basic_configurations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Loenn 基础配置
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../loenn/entity_structs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Entity 结构
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../loenn/trigger_structs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Trigger 结构
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../loenn/rendering/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Loenn 绘制
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../loenn/nodes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Loenn 节点
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../loenn/effect_structs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Effect 结构
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    实战
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            实战
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../coding_challenges/test_map/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    测试地图
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../coding_challenges/simple_entity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    简单自定义实体
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../coding_challenges/simple_trigger/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    简单自定义Trigger
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../coding_challenges/simple_texturing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    简单贴图
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    组件
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            组件
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../components/sprite_image/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sprite, Image
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../components/alarm_tween_coroutine/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Alarm, Tween, Coroutine
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../components/statemachine/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    StateMachine
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    钩子
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            钩子
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../hooks/hook/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    钩子
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../hooks/il/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    IL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../hooks/adv_hooks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    IL 钩子与随意钩取
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../hooks/adv_hooks2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    协程的钩取与私有成员访问
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    其他
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            其他
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other/xml-speedrun/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    XML简单介绍
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    额外 - LuaCutscene
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            额外 - LuaCutscene
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extra_luacs/begin/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    开始
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extra_luacs/reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    参考
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extra_luacs/cs_access/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    C# 交互
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extra_luacs/examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    例子
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12" >
        
          
          <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    额外 - CMCC
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12">
            <span class="md-nav__icon md-icon"></span>
            额外 - CMCC
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extra_cmcc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    首页
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extra_cmcc/cmcc/ReadMe/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    readme
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extra_cmcc/cmcc/faq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FAQ
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_13" >
        
          
          <label class="md-nav__link" for="__nav_13" id="__nav_13_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    历史归档
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_13">
            <span class="md-nav__icon md-icon"></span>
            历史归档
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../arc/basic_env/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    基础环境配置
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../arc/project_template/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    通过模板创建项目
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../arc/sdk-styled-proj/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    偏好-sdk-styled-proj
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_14" >
        
          
          <label class="md-nav__link" for="__nav_14" id="__nav_14_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    杂项
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_14">
            <span class="md-nav__icon md-icon"></span>
            杂项
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/change_log/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ChangeLog
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/to_do_list/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ToDoList
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#celeste" class="md-nav__link">
    <span class="md-ellipsis">
      Celeste
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#c" class="md-nav__link">
    <span class="md-ellipsis">
      C# 编程能力 与 开发环境
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      通过模板创建项目
    </span>
  </a>
  
    <nav class="md-nav" aria-label="通过模板创建项目">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      外部模板
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      就地模板
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#module" class="md-nav__link">
    <span class="md-ellipsis">
      Module 类
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#everestyaml" class="md-nav__link">
    <span class="md-ellipsis">
      everest.yaml
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      最后一步
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="_1">基础环境配置</h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>本节内容由手动配置重写为通过模板配置, 旧版你可以到<a href="../../arc/basic_env/">归档-基础环境配置</a>中找到(不推荐)</p>
</div>
<h2 id="celeste">Celeste</h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>如果你不是 Windows 用户的话这一步你可以直接跳过.</p>
</div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>在 <a href="../../extra_cmcc/cmcc/faq/#net-core-everest">Everest Core</a> 版本后(Stable 版本号大于 4465)强制切换为了 FNA 版本, 如果你已是 Core 版本你可以跳过这一步.</p>
</div>
<p>Everest 需求我们使用 FNA 版本的蔚蓝, 而 Linux 和 MacOS 上的蔚蓝已经就是 FNA 版本了, 而在 Windows 上则是 XNA 版本, 所以我们需要一些方法切换到 FNA 版本:</p>
<ul>
<li>在 Steam 上:  库-&gt;Celeste, 右键菜单属性-&gt;测试版-&gt;Opengl</li>
<li>在 itch 上: 重新下载一个 <code>Celeste Windows OpenGL</code> 版本</li>
<li>在 Epic 上: 已经是 FNA 版本了</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Everest 会在运行时将你以 FNA 版本制作的 mod 重链接为 XNA, 所以你不是很需要在意这俩的差距<br />
注意更换版本后会变回原版, 你需要重新安装 Everest</p>
</div>
<h2 id="c">C# 编程能力 与 开发环境</h2>
<p>因为我们是 Code Mod, 嗯, 那么写一些代码是必不可少的, 蔚蓝是使用 <code>C#</code> 基于 <code>.NET Framework 4.5.2</code> 来制作的, 那么学习 <code>C#</code> 当然是必不可少的.  </p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>在 Everest Core 版本上蔚蓝被迁移到了 <code>.NET 7</code> 上, 不过基于旧框架的 mod 会尽可能地被 Everest 自动转换为基于新框架的 mod.</p>
</div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>理论上所有 <strong>.NET 系</strong>语言比如 <code>VB.NET</code> <code>F#</code> 都可以, 不过为了方便起见我们还是使用 C#.</p>
</div>
<p>好吧这句话可能说的太平淡了(, 毕竟大部分<del>蔚批</del>蔚蓝 mod 爱好者就是被这一步卡住的, 那么这里...只能给你推荐几个学习渠道了,
毕竟在这里没必要让这个教程过于全能.</p>
<ol>
<li>视频: <a href="https://www.bilibili.com/video/av895726228">Bilibili - 丑萌气质狗 - 【C#零基础入门教程 Visual Studio 2022】人生低谷来学C#</a> (全p, 稍微不全)</li>
<li>视频: <a href="https://www.bilibili.com/video/av882929680">Bilibili - C#从入门到精通（第5版）</a> (1-71p, 109-132p)</li>
<li>视频: <a href="https://www.bilibili.com/video/av906241776">Bilibili - 刘铁猛 - C#语言入门详解-第1季-剪辑版-全33课-分154集</a> (1-152p)</li>
<li>网站: <a href="https://www.runoob.com/csharp/csharp-tutorial.html">Runnob - C# 教程</a></li>
<li>网站: <a href="https://www.w3schools.com/cs/index.php">w3schools - C# 教程</a> (英文)</li>
<li>书籍: C#入门经典-第7版-C# 6.0</li>
</ol>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>如果你没有能力支持正版书籍的话, 你可以到一些 C# 开发者群内寻找它的电子非正版(比如视频 <code>1.</code> up 的群内)<br />
上面几个我更加推荐的是 <code>1.</code> 和 <code>3.</code><br />
借用 <code>4.</code> 的目录, 确保你对下面这些概念(画 × 的暂时在蔚蓝 Code Mod 中用不到)有足够清晰的了解在开始你的蔚蓝 Code Mod 之旅之前:<br />
<img alt="runnob-1" src="../images/base_env/runnob-1.png" />
<img alt="runnob-2" src="../images/base_env/runnob-2.png" />
<img alt="runnob-3" src="../images/base_env/runnob-3.png" /></p>
</div>
<p>相信在上面的教程中你应该已经被推荐了一些编辑器 / IDE, 那么在本教程中我个人会为了方便<strong>仅</strong>在 <code>Windows</code> 上使用 <code>Visual Studio</code>, 当然不保证在其他地方会遇到奇奇怪怪的问题. _(:з」∠)_</p>
<h2 id="_2">通过模板创建项目</h2>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>在蔚蓝国外社区流行着另一个 mod 项目模板, <a href="https://github.com/EverestAPI/CelesteModTemplate">这是它的 Github 主页</a>
不过这里主要介绍使用我个人制作也是个人最常用的一个.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>项目模板在重构的教程中进行了更新, 旧版你可以在<a href="../../arc/project_template/">归档-通过模板创建项目</a>中找到(不推荐)</p>
</div>
<p>我们在这里提供两种模板:</p>
<ul>
<li>外部: 在蔚蓝根目录外编写代码.</li>
<li>就地: 在 <code>Celeste/Mods/&lt;你的 Mod 名称&gt;/Source</code> 中编写代码.</li>
</ul>
<p>我们在下面会使用 <code>Visual Studio</code> 进行演示.
或者你也可以选择使用 <code>dotnet cli</code> 从 nuget 上的模板安装:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>你可能还需要安装 <code>.NET 8 SDK</code> 来使用该模板, 你可以<a href="https://get.dot.net">在这里</a>找到它</p>
</div>
<details class="info">
<summary>使用 dotnet cli 从模板新建项目</summary>
<p>首先在一个你喜欢的位置放置你的项目文件夹, 名字即为你的项目名, 例如 <code>MyCelesteMod</code>:
<div class="language-bat highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">mkdir</span> MyCelesteMod
<span class="k">cd</span> MyCelesteMod
</code></pre></div></td></tr></table></div>
然后在此位置安装 nuget 上我的 mod 模板(如果你没有安装的话):
<div class="language-bat highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>dotnet new install Saladim.CelesteModTemplate
</code></pre></div></td></tr></table></div>
然后你就能使用这条指令直接创建外部模板了:
<div class="language-bat highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>dotnet new sapcelestemode
</code></pre></div></td></tr></table></div>
如果需要就地模板使用这条指令:
<div class="language-bat highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>dotnet new sapcelestemodi
</code></pre></div></td></tr></table></div>
下面是可选择的一些参数:</p>
<ul>
<li><code>-n</code>: 你的 Mod 名称, 默认为 <code>MyCelesteMod</code>, 用于重写项目名字, 例如 <code>-n YourCelesteMod</code>.</li>
<li><code>-c</code>: 指定蔚蓝根目录(只对外部模板生效), 例如 <code>-c "C:\Program Files\steam\steamapps\Celeste"</code>.</li>
<li><code>-up</code>: 是否使用 Publicize 后的 Celeste 程序集, 默认开启, 关闭可以 <code>-up false</code>.</li>
<li><code>-ua</code>: 是否使用 Celeste Mod 分析器, 默认开启, 关闭可以 <code>-ua false</code>.</li>
<li><code>-ss</code>: 向项目中添加 <code>Session</code> 类并在 <code>Module</code> 中自动配置, 默认关闭.</li>
<li><code>-st</code>: 向项目中添加 <code>Settings</code> 类并在 <code>Module</code> 中自动配置, 默认关闭.</li>
<li><code>-sd</code>: 向项目中添加 <code>SaveData</code> 类并在 <code>Module</code> 中自动配置, 默认关闭.</li>
<li><code>-ev</code>: 指定 <code>everest.yaml</code> 中的 <code>EverestCore</code> 版本, 默认为 <code>4465</code>.</li>
<li><code>-mv</code>: 指定 <code>everest.yaml</code> 中的你的 Mod 的初始版本, 默认为 <code>0.1.0</code>.</li>
</ul>
</details>
<p>首先我们打开命令行, 输入以下命令进行安装:
<div class="language-bat highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>dotnet new install Saladim.CelesteModTemplate
</code></pre></div></td></tr></table></div></p>
<p>完成后打开 <code>Visual Studio</code>, 选择 <code>创建新项目</code>, 然后在搜索框中输入 <code>Celeste</code>, 你应该能看到以下两个模板:
<img alt="vs_template" src="../images/base_env/vs_template.png" /></p>
<h3 id="_3">外部模板</h3>
<p>选择并填写好项目名称之后, 你应该能看到以下内容:
<img alt="external_template" src="../images/base_env/external_template.png" /></p>
<p>其中的各选项详细信息可以把鼠标移到旁边的 <code>info</code> 图标进行查看.</p>
<p>完成创建后你可以按下 <code>Ctrl+B</code> 或者手动点击 <code>生成-&gt;生成解决方案</code>,
如果你在你的 vs 输出里面看到了类似这两句:</p>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code>1&gt;MyCelesteMod -&gt; D:\User\temp\cm\bin\x86\Debug\net452\MyCelesteMod.dll
1&gt;MyCelesteMod -&gt; C:/Program Files (x86)/Steam/steamapps/common/Celeste/Mods/MyCelesteMod_copy/MyCelesteMod.dll
</code></pre></div></td></tr></table></div>
<p>并且你在你的蔚蓝 Mod 目录下找到了这个被创建的目录,
那么你的环境就算是配完了, 如果你很感兴趣这之中发生了什么, 要引用哪些程序集, 这个模板背后干了什么, 你可以去看那复杂的旧的配置方法.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>这个模板使用 <code>msbuild</code> 帮助了你很多事!<br />
比如当你编译完项目之后它会复制编译结果到项目目录的 <code>ModFolder</code> 目录下,
然后将整个 <code>ModFolder</code> 复制到蔚蓝的 <code>Mods\{你的mod名}_copy</code> 文件夹下!
所以当我们需要更改一些比如说 loenn 的配置文件, <code>everest.yaml</code> 的内容, 你的测试地图等时, 
你只需要简单地重新编译一遍项目, 然后等待模板来帮你做剩下的活!  </p>
</div>
<h3 id="_4">就地模板</h3>
<p>就地模板在进行项目名称填写时你应该会看到以下内容:
<img alt="inplace_template" src="../images/base_env/inplace_template.png" /></p>
<p>这里的 <code>项目名称</code> 就是你的 Mod 名称.  <br />
<code>位置</code> 我们需要改到蔚蓝的 <code>Mods</code> 目录下, 例如 <code>C:\Program Files\steam\steamapps\Celeste\Mods</code>.   <br />
填写完成后我们还需要勾选 <code>将解决方案和项目放在同一目录中</code>.</p>
<p>后面的项目配置基本与外部模板一致, 除了 <code>Celeste 所在的目录</code>. 这项已经在上一步的 <code>位置</code> 填写过了所以不需要再填写.</p>
<h2 id="module">Module 类</h2>
<p>就像我们的经典的控制台 C# 应用程序一样有个 <code>Main</code> 方法, 我们的蔚蓝 Mod 也有一个类似的东西, 
那就是 Everest 提供给我们的 <code>EverestModule</code> 类.<br />
那么, 现在打开你的 <code>MyCelesteModModule.cs</code> 那个文件, 你应该会看到类似结构这样的代码:
<div class="language-cs highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">namespace</span><span class="w"> </span><span class="nn">MyCelesteMod</span><span class="p">;</span>

<span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">MyCelesteModModule</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">EverestModule</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="k">override</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">Load</span><span class="p">()</span>
<span class="w">    </span><span class="p">{</span>

<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="k">override</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">Unload</span><span class="p">()</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></td></tr></table></div>
在开头我们声明了命名空间, 接下来我们声明了一个类, 然后让它继承于 <code>EverestModule</code>, 注意这个类是抽象的, 它要求我们实现的两个方法分别为 <code>Load</code> 与 <code>Unload</code>.<br />
这两个方法很简单:</p>
<ul>
<li><code>Load</code> 方法在你的 mod 被加载时调用.</li>
<li><code>Unload</code> 方法在你的 mod 被卸载时调用.</li>
</ul>
<p>通常我们会在 <code>Load</code> 方法里加载我们需要的资源, 进行适当的初始化, 在 <code>Unload</code> 方法里释放我们的资源.<br />
在这里为了明显可见, 我们在 <code>Load</code> 方法里通过一个蔚蓝中的类 <code>Logger</code> 打印出了一句 "Hello World".</p>
<details class="note">
<summary>如果你好奇 <code>Logger.Log</code> 这个方法你可以展开来了解</summary>
<p><code>Logger</code> 是一个蔚蓝底层引擎 <code>Monocle</code> 的一个工具类, 它帮助你打印输出一些调试信息,
通常这些信息会被打印进控制台的同时写入游戏的 <code>log.txt</code> 文件中, 
这也就解释了为什么你遇到各种问题时别人总要求你发送你的 <code>log.txt</code>.<br />
<code>Logger.Log</code> 有两个重载, 其中一个的签名是:
<div class="language-cs highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">Log</span><span class="p">(</span><span class="n">LogLevel</span><span class="w"> </span><span class="n">logLevel</span><span class="p">,</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">tag</span><span class="p">,</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">str</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
它会以 <code>logLevel</code> 的日志等级打印一个标签为 <code>tag</code> 的消息 <code>str</code>,
另一个重载不要求你传入 <code>logLevel</code> 但会默认你的 <code>logLevel</code> 为 <code>LogLevel.Verbose</code>.
<code>LogLevel</code> 枚举包含 <code>Verbose, Debug, Info, Warn, Error</code>.
通常对于普通日志我们会选择 <code>Info</code>, 对于较多的调试信息选择 <code>Debug</code>,
对于冗余的信息选择 <code>Verbose</code>, 对于一些错误但不影响游戏进行的信息选择 <code>Warn</code>, 对于一些致命性错误我们会选择 <code>Error</code>.
一般地, 游戏只会打印 <code>Info</code> 等级及以上的日志, 你可以通过在蔚蓝启动的命令行中加入<code>--loglevel {等级}</code>来指定过滤等级.</p>
</details>
<h2 id="everestyaml">everest.yaml</h2>
<p>ok, 我们前面巴拉巴拉讲了几乎三千多个字, 但是依然没有让蔚蓝加载到我们的mod, 不过别急, 这是倒数第二步了.<br />
实际上有关 code mod 的所有代码相关的东西我们都已经做完了, 剩余的其实只是一个普通 mod 要做的 ---- 写 <code>everest.yaml</code>.
在这里我们需要在 <code>ModFolder</code> 这个文件夹里做这件事, 那么, 在你的这个文件夹下创建 <code>everest.yaml</code> 空文件, 你的目录结构可能像是:</p>
<ul>
<li>ModFolder<ul>
<li>everest.yaml</li>
<li>MyCelesteMod.dll</li>
<li>MyCelesteMod.pdb</li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code>.dll</code> 文件和 <code>.pdb</code> 文件仅会在你构建过项目后出现, 有时候甚至 ModFolder 目录也会在构建过后出现</p>
</div>
<p>好的, 现在我们打开 <code>everest.yaml</code>, 然后像一个普通的 mapper 一样填写信息:
<div class="language-yaml highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MyCelesteMod</span>
<span class="w">  </span><span class="nt">Version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.1.0</span>
<span class="w">  </span><span class="nt">DLL</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MyCelesteMod.dll</span>
<span class="w">  </span><span class="nt">Dependencies</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">EverestCore</span>
<span class="w">      </span><span class="nt">Version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.4465.0</span>
</code></pre></div></td></tr></table></div>
这些参数分别是:</p>
<ul>
<li><code>Name</code>: 你的 mod 名字</li>
<li><code>Version</code>: 你的 mod 的版本</li>
<li><code>DLL</code>: 如果你是 code mod 的话, 这里填入你的 code (也就是 dll 文件) 的位置, 这里我们是直接把 .dll 文件放到这个 yaml 的旁边了, 所以直接写名字就好</li>
</ul>
<p>最后是最底下的那个依赖, 这里我们只依赖最基础的 Everest, 版本填上你目前使用的 Everest 版本, 这里我就填写 3971 了.
如果你的 mod 依赖 Everest Core, 你需要在这里将 <code>Everest</code> 更改为 <code>EverestCore</code>, 并将版本号填写大于 4465 的值.</p>
<h2 id="_5">最后一步</h2>
<p>为了方便我们的调试, 我们需要让蔚蓝打开的同时打开控制台, 这一步很简单:</p>
<ul>
<li>找到蔚蓝根目录下的 <code>everest-launch.txt</code>, 没有的话新建一个空的就行了</li>
<li>向里面写入 <code>--console</code></li>
<li>搞定, 走你!</li>
</ul>
<p>现在, 重新编译项目, 让 <code>msbuild</code> 带着你的 <code>ModFolder</code> 的内容前往蔚蓝 Mods 文件夹下, 启动蔚蓝, 让 Everest 找到你的 dll.<br />
在同时启动的黑乎乎的命令行窗口上你应该能在这附近看到那句熟悉的 Hello world:
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div><pre><span></span><code>(07/08/2023 21:18:59) [Everest] [Info] [core] Module DialogCutscene 1.0.0 registered.
(07/08/2023 21:18:59) [Everest] [Info] [core] Module UpdateChecker 1.0.2 registered.
(07/08/2023 21:18:59) [Everest] [Info] [core] Module InfiniteSaves 1.0.0 registered.
(07/08/2023 21:18:59) [Everest] [Info] [core] Module DebugRebind 1.0.0 registered.
(07/08/2023 21:18:59) [Everest] [Info] [core] Module RebindPeriod 1.0.0 registered.
(07/08/2023 21:19:00) [Everest] [Info] [Everest.LuaBoot] Lua ready.
<span class="hll">(07/08/2023 21:19:00) [Everest] [Info] [MyCelesteMod] Hello World!
</span>(07/08/2023 21:19:00) [Everest] [Info] [core] Module MyAwesomeMod 0.1.0 registered.
(07/08/2023 21:19:00) [Everest] [Info] [loader] Loading mods with unsatisfied optional dependencies (if any)
FNA3D Driver: D3D11
D3D11 Adapter: Intel(R) UHD Graphics 630
</code></pre></div></td></tr></table></div></p>
<!-- 肯定会有人在意怎么是 630 核显( / 我发现彩蛋了(乐 -->

<p>在经过如上的配置后, 你会发现在蔚蓝启动的时候, 进行编译并复制资源时会报错, 
这是因为 Everest 锁定占用了它们, 导致你不得不让这一切在蔚蓝关闭时进行,
同时由于蔚蓝的重启速度不是很理想, 这大大的拉低了 mod 开发效率.<br />
不过好在 Everest 提供了一个技术叫做 <code>code hot reload</code>,
即热重载, 它允许你在游戏运行期间替换你的代码并重载资源, 它目前还在 wip 状态.<br />
要开启这项功能, 首先到你的蔚蓝根目录下的 Saves 目录, 找到并打开 <code>modsettings-Everest.celeste</code> 这个文件,
使用<code>Ctrl + F 搜索</code>找到属性 <code>CodeReload_WIP</code>, 将其更改为 <code>true</code>, 此时重新编译你的项目,
你应该就不会再得到任何错误, 并且 Everest 也正确地热重载了你的 mod 和你的 mod 资源.</p>
<p>这一节完成后你的目录结构大概会像是        <br />
外部模板:</p>
<ul>
<li>MyCelesteMod (你项目的根目录)<ul>
<li>ModFolder<ul>
<li>Code<ul>
<li>MyCelesteMod.dll</li>
<li>MyCelesteMod.pdb</li>
</ul>
</li>
<li>everest.yaml</li>
</ul>
</li>
<li>CelesteMod.props</li>
<li>CelesteMod.targets</li>
<li>MyCelesteMod.csproj</li>
<li>MyCelesteModModule.cs</li>
</ul>
</li>
</ul>
<p>或 就地模板:</p>
<ul>
<li>MyCelesteMod (你项目的根目录)<ul>
<li>everest.yaml</li>
<li>Source<ul>
<li>CelesteMod.props</li>
<li>CelesteMod.targets</li>
<li>MyCelesteMod.csproj</li>
<li>MyCelesteModModule.cs</li>
<li>.everestignore</li>
</ul>
</li>
<li>Code <ul>
<li>MyCelesteMod.dll</li>
<li>MyCelesteMod.pdb</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>其中正如之前所介绍的, 如果你使用外部模板的话, mod 的资源文件应该放在 <code>ModFolder</code> 中, 然后就像往常一样放置你的 mod 资源, 当你的项目在构建时它们会自动被复制.
并且将代码文件放置在 .csproj 同目录下或嵌套文件夹下,
如果你没有更改你的项目而只更改了资源文件时你会发现编译项目会因为 "所有文件都是最新的" 而跳过编译, 而同时也会跳过我们的资源复制, 对此我们有两种解决方案:</p>
<ul>
<li>直接强制重新构建项目 (vs 中 "生成" -&gt; "重新生成项目")</li>
<li>在项目根目录执行 <code>msbuild -target:PostModBuild</code> 命令行</li>
</ul>
<blockquote>
<p>好像是有更好的解决方法, 不过鉴于本人 MSBuild 知识不足只能做成这样了(x</p>
</blockquote>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="最后更新">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2025年5月2日</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="创建日期">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2023年7月5日</span>
  </span>

    
    
      
  
  <span class="md-source-file__fact">
    <span class="md-icon" title="贡献者">
      
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 5.5A3.5 3.5 0 0 1 15.5 9a3.5 3.5 0 0 1-3.5 3.5A3.5 3.5 0 0 1 8.5 9 3.5 3.5 0 0 1 12 5.5M5 8c.56 0 1.08.15 1.53.42-.15 1.43.27 2.85 1.13 3.96C7.16 13.34 6.16 14 5 14a3 3 0 0 1-3-3 3 3 0 0 1 3-3m14 0a3 3 0 0 1 3 3 3 3 0 0 1-3 3c-1.16 0-2.16-.66-2.66-1.62a5.54 5.54 0 0 0 1.13-3.96c.45-.27.97-.42 1.53-.42M5.5 18.25c0-2.07 2.91-3.75 6.5-3.75s6.5 1.68 6.5 3.75V20h-13zM0 20v-1.5c0-1.39 1.89-2.56 4.45-2.9-.59.68-.95 1.62-.95 2.65V20zm24 0h-3.5v-1.75c0-1.03-.36-1.97-.95-2.65 2.56.34 4.45 1.51 4.45 2.9z"/></svg>
      
    </span>
    <nav>
      
        <a href="mailto:101231815+clearzer0@users.noreply.github.com">AppleSheep</a>, 
        <a href="mailto:534310154@qq.com">ClearZer0</a>, 
        <a href="mailto:3079351998@qq.com">Lucky_boy</a>, 
        <a href="mailto:saplonily@outlook.com">Saplonily</a>
    </nav>
  </span>

    
    
  </aside>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
    <div class="md-footer-meta md-typeset">
        <div class="md-footer-meta__inner md-grid">
            <div class="md-copyright">
                Made with
                <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
                    Material for MkDocs
                </a>
            </div>
            <a href="https://icp.gov.moe/?keyword=20221437" class="md-copyright" target="_blank" rel="noopener">
                萌ICP备20221437号
            </a>
        </div>
    </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "content.tabs.link"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>